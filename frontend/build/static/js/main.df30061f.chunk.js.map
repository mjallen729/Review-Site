{"version":3,"sources":["http-common.js","services/restaurant.js","components/restaurants-list.js","components/add-review.js","components/restaurant.js","components/login.js","App.js","index.js"],"names":["axios","create","baseURL","headers","RestaurantDataService","page","http","get","id","query","by","data","post","put","userId","delete","user_id","RestaurantsList","props","useState","restaurants","setRestaurants","searchName","setSearchName","searchZip","setSearchZip","searchCuisine","setSearchCuisine","cuisines","setCuisines","useEffect","retrieveRestaurants","retrieveCuisines","getAll","then","response","console","log","catch","e","getCuisines","concat","find","className","type","placeholder","value","onChange","target","onClick","map","cuisine","substr","restaurant","address","building","street","zipcode","name","to","_id","href","AddReview","initialReviewState","editing","location","state","currentReview","text","review","setReview","submitted","setSubmitted","user","match","params","htmlFor","required","event","restaurant_id","review_id","updateReview","createReview","Restaurant","reviews","setRestaurant","length","index","date","reviewId","deleteReview","prevState","splice","pathname","Login","setUser","handleInputChange","login","history","push","App","React","style","cursor","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.df30061f.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n\tbaseURL: 'https://review-site-bn8x.onrender.com/api/v1/restaurants',\n\theaders: {\n\t\t'Content-type': 'application/json'\n\t}\n});","import http from \"../http-common.js\";\n\nclass RestaurantDataService {\n\tgetAll(page= 0) {\n\t\treturn http.get(`?page=${page}`)\n\t}\n\n\tget(id) {\n\t\treturn http.get(`/id/${id}`)\n\t}\n\n\tfind(query, by= 'name', page= 0) {\n\t\treturn http.get(`?${by}=${query}&page=${page}`)\n\t}\n\n\tcreateReview(data) {\n\t\treturn http.post('/review', data)\n\t}\n\n\tupdateReview(data) {\n\t\treturn http.put('/review', data)\n\t}\n\n\tdeleteReview(id, userId) {\n\t\treturn http.delete(`/review?id=${id}`, {data:{user_id: userId}})\n\t}\n\n\tgetCuisines() {\n\t\treturn http.get(`cuisines`)\n\t}\n}\n\nexport default new RestaurantDataService();","import React, {useState, useEffect} from \"react\";\nimport RestaurantDataService from '../services/restaurant.js';\nimport {Link} from 'react-router-dom';\n\nconst RestaurantsList = props => {\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [searchName, setSearchName] = useState('');\n\tconst [searchZip, setSearchZip] = useState('');\n\tconst [searchCuisine, setSearchCuisine] = useState('');\n\tconst [cuisines, setCuisines] = useState(['All Cuisines']);\n\n\tuseEffect(() => {\n\t\tretrieveRestaurants()\n\t\tretrieveCuisines()\n\t}, [])\n\n\tconst onChangeSearchName = e => {\n\t\tconst searchName = e.target.value\n\t\tsetSearchName(searchName)\n\t}\n\n\tconst onChangeSearchZip = e => {\n\t\tconst searchZip = e.target.value\n\t\tsetSearchZip(searchZip)\n\t}\n\n\tconst onChangeSearchCuisine = e => {\n\t\tconst searchCuisine = e.target.value\n\t\tsetSearchCuisine(searchCuisine)\n\t}\n\n\tconst retrieveRestaurants = () => {\n\t\tRestaurantDataService.getAll().then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tsetRestaurants(response.data.restaurants)\n\n\t\t}).catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\tconst retrieveCuisines = () => {\n\t\tRestaurantDataService.getCuisines().then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tsetCuisines(['All Cuisines'].concat(response.data))\n\n\t\t}).catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\tconst refreshList = () => {\n\t\tretrieveRestaurants()\n\t}\n\n\tconst find = (query, by) => {\n\t\tRestaurantDataService.find(query, by).then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tsetRestaurants(response.data.restaurants)\n\n\t\t}).catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\tconst findByName = () => {\n\t\tfind(searchName, 'name')\n\t}\n\n\tconst findByZip = () => {\n\t\tfind(searchZip, 'zipcode')\n\t}\n\n\tconst findByCuisine = () => {\n\t\tif (searchCuisine == 'All Cuisines') {\n\t\t\trefreshList();\n\t\t} else {\n\t\t\tfind(searchCuisine, 'cuisine')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row pb-1\">\n\t\t\t\t<div className=\"input-group col-lg-4\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Search by name\"\n\t\t\t\t\t\tvalue={searchName}\n\t\t\t\t\t\tonChange={onChangeSearchName}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={findByName}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-group col-lg-4\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Search by zip\"\n\t\t\t\t\t\tvalue={searchZip}\n\t\t\t\t\t\tonChange={onChangeSearchZip}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={findByZip}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-group col-lg-4\">\n\n\t\t\t\t\t<select onChange={onChangeSearchCuisine}>\n\t\t\t\t\t\t{cuisines.map(cuisine => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option value={cuisine}> {cuisine.substr(0, 20)} </option>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={findByCuisine}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t{restaurants.map((restaurant) => {\n\t\t\t\t\tconst address = `${restaurant.address.building} ${restaurant.address.street}, ${restaurant.address.zipcode}`;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"col-lg-4 pb-1\">\n\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">{restaurant.name}</h5>\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\n\t\t\t\t\t\t\t\t\t\t<strong>Cuisine: </strong>{restaurant.cuisine}<br />\n\t\t\t\t\t\t\t\t\t\t<strong>Address: </strong>{address}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<Link to={\"/restaurants/\" + restaurant._id} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">\n\t\t\t\t\t\t\t\t\t\t\tView Reviews\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<a target=\"_blank\" href={\"https://www.google.com/maps/place/\" + address} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">View Map</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default RestaurantsList;","import React, {useState} from \"react\";\nimport RestaurantDataService from '../services/restaurant.js';\nimport {Link} from 'react-router-dom';\n\nconst AddReview = props => {\n\tlet initialReviewState = ''\n\tlet editing = false\n\n\tif (props.location.state && props.location.state.currentReview) {\n\t\tediting = true\n\t\tinitialReviewState = props.location.state.currentReview.text\n\t}\n\n\tconst [review, setReview] = useState(initialReviewState)\n\tconst [submitted, setSubmitted] = useState(false)\n\n\tconst handleInputChange = event => {\n\t\tsetReview(event.target.value)\n\t}\n\n\tconst saveReview = () => {\n\t\tlet data = {\n\t\t\ttext: review,\n\t\t\tname: props.user.name,\n\t\t\tuser_id: props.user.id,\n\t\t\trestaurant_id: props.match.params.id\n\t\t};\n\n\t\tif (editing) {\n\t\t\tdata.review_id = props.location.state.currentReview._id\n\t\t\tRestaurantDataService.updateReview(data).then(response => {\n\t\t\t\t\tsetSubmitted(true)\n\t\t\t\t\tconsole.log(response.data)\n\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t})\n\t\t} else {\n\t\t\tRestaurantDataService.createReview(data).then(response => {\n\t\t\t\t\tsetSubmitted(true)\n\t\t\t\t\tconsole.log(response.data)\n\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{props.user ? (\n\t\t\t\t<div className='submit-form'>\n\t\t\t\t\t{submitted ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>Success!</h4>\n\t\t\t\t\t\t\t<Link to={'/restaurants/' + props.match.params.id} className='btn btn-success'>\n\t\t\t\t\t\t\t\tBack to Restaurant\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"description\">{editing ? \"Edit\" : \"Create\"} Review</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvalue={review}\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button onClick={saveReview} className=\"btn btn-success\">\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t<div>\n\t\t\t\tPlease log in.\n\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default AddReview;","import React, {useState, useEffect} from \"react\";\nimport RestaurantDataService from '../services/restaurant.js';\nimport {Link} from 'react-router-dom';\n\nconst Restaurant = props => {\n\tconst initialRestaurantState = {\n\t\tid: null,\n\t\tname: '',\n\t\taddress: {},\n\t\tcuisine: '',\n\t\treviews: []\n\t}\n\n\tconst [restaurant, setRestaurant] = useState(initialRestaurantState)\n\n\tconst getRestaurant = id => {\n\t\tRestaurantDataService.get(id).then(response => {\n\t\t\tsetRestaurant(response.data)\n\t\t\tconsole.log(response.data)\n\n\t\t}).catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tgetRestaurant(props.match.params.id)\n\t}, [props.match.params.id])\n\n\tconst deleteReview = (reviewId, index) => {\n\t\tRestaurantDataService.deleteReview(reviewId, props.user.id).then(response => {\n\t\t\tsetRestaurant((prevState) => {\n\t\t\t\tprevState.reviews.splice(index, 1)\n\t\t\t\treturn ({\n\t\t\t\t\t...prevState\n\t\t\t\t})\n\t\t\t})\n\t\t}).catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{restaurant ? (\n\t\t\t\t<div>\n\t\t\t\t\t<h5>{restaurant.name}</h5>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Cuisine: </strong>{restaurant.cuisine}<br />\n\t\t\t\t\t\t<strong>Address: </strong>{restaurant.address.building} {restaurant.address.street}, {restaurant.address.zipcode}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Link to={\"/restaurants/\" + props.match.params.id + \"/review\"} className=\"btn btn-primary\">\n\t\t\t\t\t\tAdd Review\n\t\t\t\t\t</Link>\n\t\t\t\t\t<h4> Reviews </h4>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{restaurant.reviews.length > 0 ? (\n\t\t\t\t\t\t\trestaurant.reviews.map((review, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 pb-1\" key={index}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{review.text}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>User: </strong>{review.name}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Date: </strong>{review.date}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t{props.user && props.user.id === review.user_id &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a onClick={() => deleteReview(review._id, index)} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">Delete</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: \"/restaurants/\" + props.match.params.id + \"/review\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentReview: review\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">Edit</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t\t<p>No reviews yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<p>No restaurant selected.</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Restaurant;","import React, {useState} from \"react\";\n\nconst Login = props => {\n\tconst initialUserState = {\n\t\tname: '',\n\t\tid: ''\n\t}\n\n\tconst [user, setUser] = useState(initialUserState)\n\n\tconst handleInputChange = event => {\n\t\tconst {name, value} = event.target\n\t\tsetUser({...user, [name]: value})\n\t}\n\n\tconst login = () => {\n\t\tprops.login(user)\n\t\tprops.history.push('/')\n\t}\n\n\treturn (\n\t\t<div className='submit-form'>\n\t\t\t<div>\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<label htmlFor='user'>Screen Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tid='name'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={user.name}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tname='name'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<label htmlFor='id'>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tid='id'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={user.id}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tname='id'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button onClick={login} className='btn btn-success'>\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Login;","import React from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport RestaurantsList from \"./components/restaurants-list\";\nimport AddReview from \"./components/add-review\";\nimport Restaurant from \"./components/restaurant\";\nimport Login from \"./components/login\";\n\nfunction App() {\n  const [user, setUser] = React.useState(null);\n\n  async function login(user= null) {\n    setUser(user);\n  }\n\n  async function logout() {\n    setUser(null);\n  }\n\n  return (\n    <div className=\"App\">\n      <nav className='navbar navbar-expand navbar-dark bg-dark'>\n        <a href='/' className='navbar-brand'>\n          Reviews R Us\n        </a>\n        <div className='navbar-nav mr-auto'>\n          <li className='nav-item'>\n            <Link to={'/restaurants'} className='nav-link'>\n              Restaurants\n            </Link>\n          </li>\n          <li className='nav-item'>\n            {user ? (\n              <a onClick={logout} className='nav-link' style={{cursor:'pointer'}}>\n                Logout {user.name}\n              </a>\n            ) : (\n              <Link to={'/login'} className='nav-link'>\n                Login\n              </Link>\n            )}\n          </li>\n        </div>\n      </nav>\n\n      <div className='container mt-3'>\n        <Switch>\n          <Route exact path={['/','/restaurants']} component={RestaurantsList}/>\n          <Route path='/restaurants/:id/review' render={(props) => (\n            <AddReview {...props} user={user}/>\n          )}/>\n          <Route path='/restaurants/:id' render={(props) => (\n            <Restaurant {...props} user={user}/>\n          )}/>\n          <Route path='/login' render={(props) => (\n            <Login {...props} login={login}/>\n          )}/>\n        </Switch>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}